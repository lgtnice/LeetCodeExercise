

# 栈和队列

## 原理

栈和队列是 STL中定义的两个数据结构，STL是 属于C++标准库的。

C++标准库有多个版本，STL也有多个版本，不同版本的栈和队列的实现原理不一样。

1. HP  STL，惠普STL，最原始的版本，其他的STL一般以这个为基础，HP STL是所有C++ STL中最先实现的，并且开源。
2. P.J.Plauger STL，作者正是P.J.Plauger，被visual c++所采用，不开源。
3. SGI STL，由Silicon Graphics Computer Systems公司开发，被  Linux的C++编译器GCC  所采用，开源，源代码可读性高。



我们基于SGI STL 讨论栈和队列。

栈提供push、pop等接口，因为所有的元素必须先进后出，所以不提供遍历功能，没有迭代器。

栈属于 **容器适配器**，以底层容器完成其所有的工作，底层容器是可以由 **程序员控制选定具体使用哪种的**，通过模板指定。

## 常用容器

vector、deque、list，底层实现都是数组和链表。

SGI STL的栈  的默认底层容器是deque。

deque是双向队列，封住一端，开通另一端，就可以实现栈。

SGI STL的队列  的默认底层容器，也是deque

## 优先级队列

对外的接口函数只有 push 、pop 、 top。看起来像是一个队列。

在push时，自动依据 重载运算符进行 排序。

在默认情况下，优先级队列 由 堆（heap）实现，堆的本质是 **完全二叉树** ，在内存中以 **vector** 的形式存储。



大顶堆：任何节点的值 大于等于  它的左右孩子的值

小顶堆：任何节点的值 小于等于  它的左右孩子的值